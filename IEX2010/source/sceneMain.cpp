
#include	"iextreme.h"
#include	"system/system.h"
#include	"GlobalFunction.h"
#include	"PlayerManager.h"

#include	"sceneMain.h"

//*****************************************************************************************************************************
//
//	グローバル変数
//
//*****************************************************************************************************************************




//*****************************************************************************************************************************
//
//	初期化
//
//*****************************************************************************************************************************

bool	sceneMain::Initialize( void )
{
	//	環境設定
	iexLight::SetAmbient( 0x404040 );
	iexLight::SetFog( 800, 1000, 0 );

	Vector3 dir( 1.0f, -1.0f, -0.5f );
	dir.Normalize();
	iexLight::DirLight( shader, 0, &dir, 0.8f, 0.8f, 0.8f );

	//	カメラ設定
	view = new iexView();
	view->Set( Vector3( 0, 3, -5 ), Vector3( 0, 0, 0 ) );

	//	プレイヤー初期化
	playerManager->Initialize();



	return true;
}

sceneMain::~sceneMain( void )
{
	SafeDelete( view );
	playerManager->Release();



}

//*****************************************************************************************************************************
//
//		更新
//
//*****************************************************************************************************************************
void	sceneMain::Update( void )
{
	//	playerManager
	playerManager->Update();



}

//*****************************************************************************************************************************
//
//		描画関連
//
//*****************************************************************************************************************************
void	sceneMain::Render( void )
{
	//	画面クリア
	view->Activate();
	view->Clear();

	//	playerManager
	playerManager->Render();






}



